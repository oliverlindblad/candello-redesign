---
import MainLayout from '../../layouts/MainLayout.astro';
import { defaultProjects as projects } from '../../components/ProjectList.astro';

export async function getStaticPaths() {
  return projects.map((project) => ({
    params: { slug: project.slug },
  }));
}

const { slug } = Astro.params;
const project = slug ? projects.find((p) => p.slug === slug) : null;

if (!project) {
  return Astro.redirect('/projekter');
}
---

<MainLayout title={`${project.title} - Projekter - Candello Media`} description={project.description}>
  <article class="container mx-auto px-4 py-12">
    {project.image && (
      <img src={project.image} alt={project.title} class="w-full h-96 object-cover rounded-lg mb-8" />
    )}
    <h1 class="text-4xl font-bold mb-4">{project.title}</h1>
    {project.description && <p class="text-xl text-gray-600 mb-8">{project.description}</p>}
    
    <!-- Project content will be added based on Figma design -->
    <div class="prose max-w-none">
      <slot />
    </div>
  </article>
</MainLayout>

